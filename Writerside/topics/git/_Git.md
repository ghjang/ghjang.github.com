# Git

여기서는 혼동되거나 따로 정리할 필요가 있다고 생각되는 git 사용법에 대해서 일부 정리한다.
git에 대한 일반적인 사용법에 대해서는 아래 학습자료를 참고해볼 수 있다.

> **git 사용법 인터랙트 학습 사이트: [Learn Git Branching](https://learngitbranching.js.org)**
>
> '게임'을 하는 것처럼 git을 학습할 수 있는 사이트이다.
> 
> 'git add' 명령어를 이용해 'staging' 하는 과정이 없다는 것만을 제대로 인식하고 내용을 살펴보면 된다.
> 
> git의 'commit tree'를 조작하는 상황을 '애니메이션 시각화'를 했기 때문에 이해에 꽤 도움이 된다.
>
{style="note"}

> **git 사용법 무료 책: [Pro Git](https://git-scm.com/book/en/v2)**
>
> [git-scm.com](https://git-scm.com) 사이트에서 무료로 배포하는 '오픈소스 책'이 있다. '1 ~ 3'장은 git의 기본 개념과 일상 사용법에 대해서 설명하고 있다.
> 3장까지 읽어보면 클라이언트 사용자 측면에서 git의 기본 개념과 사용법에 대해서 충분히 이해할 수 있다.
>
{style="note"}

## 시작하기전 먼저 기억하고 있으면 도움될만한 사항

1. git은 '분산 버전 관리 시스템(DVCS)'이다.
2. '원격 저장소'의 브랜치를 '복제(clone)'한 '로컬 저장소'의 브랜치는 git 서버쪽에 설정되는 '커밋 훅'같은 것을 제외하고는 완전히 동일한 내용을 포함한다.
3. 위 '2'와 같은 상황이기 때문에 '원격 저장소'가 손상되었을 경우 '로컬 저장소'를 사용해서 복원 가능하다.
4. 하나의 'git commit 해쉬값'은 '커밋하는 사용자, 커밋 시간, 커밋 메시지, 커밋 내용' 등을 포함한 '커밋 정보'를 기반으로 생성되는 고유값이다.
5. 하나의 'git commit'은 '부모 커밋'을 가리키는 '해쉬값'을 포함한다.
6. 하나의 'git 저장소'에는 1개의 '루트 커밋'이 존재한다.
7. 하나의 'git merge commit'의 경우는 2개의 '부모 커밋'을 가리키는 '커밋 해쉬값'을 포함한다.
8. 위 '4~7'의 내용과 같은 방식으로 '커밋 트리/그래프'가 구성된다.
9. 위 '8'에서 언급한 '커밋 트리/그래프'를 조작하는 다양한 'git verb'들이 존재한다.
10. '저장소 레벨'에서 수행되는 'git verb'와 '저장소 브랜치 레벨'에서 수행되는 'git verb'가 존재한다.
11. '병합(merge)'은 '저장소 브랜치' 간에 실행하는 '저장소 브랜치 레벨' 작업이다.
12. 'git pull/push'는 '원격 저장소 브랜치'와 '로컬 저장소 브랜치' 간에 실행하는 '브랜치 레벨' 작업이다.
13. 'git pull/push'를 어떤 '원격 저장소'에 대해서 실행시 대상이 되는 작업 '브랜치'는 원격과 로컬에 모두 같은 이름으로 존재해야한다.
14. '현재 작업 브랜치'라는 '참조' 개념이 있다.
15. 어떤 'git verb'에 '원격 저장소' 또는 '브랜치' 옵션을 누락했을 경우 '가정'되는 기본값이 존재한다.
16. 'git 저장소' 로컬 작업 폴더내의 서브 폴더 위치에 상관없이 사용할 수 있는 'git verb'들이 존재한다.
17. '파일 조작'과 관련된 'git verb'들은 파일 경로 정보를 옵션으로 받기 때문에 해당 명령어에 '상대 경로'를 지정할 경우 실행 위치에 주의할 필요가 있다.
18. 하나의 '로컬 저장소'는 여러개의 '원격 저장소'를 참조할 수 있다.
19. 위 '18'의 내용과 같은 상황에서 참조하는 여러 '원격 저장소'는 공통 커밋 조차 없는 완전히 상이한 내용을 가질 수 있다.
20. 위 '18'의 내용과 같은 상황에서 참조하는 여러 '원격 저장소'의 '브랜치'를 로컬 작업 브랜치에 '병합(merge)'할 수 있다.
21. (위 '18'의 내용과 같은 상황은 로컬 저장소와 원젹 저장소를 연결하는 가상의 '공통 루트 커밋' 노드가 있다고 가정하면 이해하기 쉽다.)

## 로컬 git 저장소 작업 폴더내 파일 상태 전이

모든 '파일 상태'와 완전한 '상태 전이'를 기록한 것은 아니지만 우선 다음의 그림을 참고해 시작할 수 있다.

![로컬 git 저장소 작업 폴더내 파일 상태 전이도](git_file_state_diagram.png){ width=1024 }

- 'git rm --cached' 명령어와 관련해 이 글의 **'Tracked' 상태의 파일 'Untracked' 상태로 변경하기** 섹션의 내용 참조할 것.
- 'git rm -f' 명령어와 관련해 이 글의 **[기타 참고사항](git-etc.md)** 페이지 참조할 것.
- 'git commit -a' 명령어와 관련해 이 글의 **'Unstaged, Modified' 상태의 파일을 '스테이징' 단계 없이 곧바로 '커밋'하기** 섹션의 내용 참조할 것.

## '삭제' 커밋된 파일 복구하기

'git commit'으로 일단 커밋된 내용은 이후에 '삭제'등의 명령어 실행 후 추가 커밋을 하더라도 '거의' 모두 복구가 가능하다고 한다.

## 커밋된 파일 '완전 삭제'하기

## 'merge' 동작을 함축하는 'git verb'들

## 리베이싱
