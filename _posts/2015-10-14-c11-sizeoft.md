---
layout: post
title: "[C++11] sizeof...(T)"
description: ""
category: computer programming
tags: [C++, C++11, C++ TMP]
---
{% include JB/setup %}

C++11에 추가된 variadic template의 parameter pack의 크기, 그러니까 type list의 길이를 가져오는 언어 키워드이다.

parameter pack은 언어자체에 추가된 type list 지원기능이라고 볼 수 있다. parameter pack은 일반 런타임함수의 인자로는 전달할 수는 없고 template parameter의 argument로만 전달될 수 있다. parameter pack에 포함된 타입을 조작하기 위해서는 단순하지만은 않은 C++ TMP 기교가 필요하게된다. sizeof...(T)는 이런 type list를 조작하는데 유용하게 사용될 수 있는 도구이다.

아래와 같은 형태로 기본적으로 사용할 수 있다:

<pre>
<code class='cpp'>
template <typename... TypeList>
constexpr auto sizeofFuncParam(TypeList... tl)
{
    return sizeof...(TypeList);
}

template <typename... TypeList>
constexpr auto sizeofFuncParam1(TypeList... tl)
{
    return sizeof...(tl);
}

// ...

static_assert(sizeofFuncParam(1, 2, 3) == 3, "");
static_assert(sizeofFuncParam(1, 2, 3, 4, 5) == 5, "");
static_assert(sizeofFuncParam('a', 1, 1.0, "abc") == 4, "");

static_assert(sizeofFuncParam1(1, 2, 3) == 3, "");
static_assert(sizeofFuncParam1(1, 2, 3, 4, 5) == 5, "");
static_assert(sizeofFuncParam1('a', 1, 1.0, "abc") == 4, "");
</code>
</pre>

일반 function template뿐만 아니라 class template, member function template에서도 같은 식으로 사용이 가능하겠다.
